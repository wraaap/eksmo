/*! typograf | Â© 2025 Denis Seleznev | MIT  License | https://github.com/typograf/typograf */
((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Typograf=t()})(this,function(){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var P=[["iexcl",161],["cent",162],["pound",163],["curren",164],["yen",165],["brvbar",166],["sect",167],["uml",168],["copy",169],["ordf",170],["laquo",171],["not",172],["reg",174],["macr",175],["deg",176],["plusmn",177],["sup2",178],["sup3",179],["acute",180],["micro",181],["para",182],["middot",183],["cedil",184],["sup1",185],["ordm",186],["raquo",187],["frac14",188],["frac12",189],["frac34",190],["iquest",191],["Agrave",192],["Aacute",193],["Acirc",194],["Atilde",195],["Auml",196],["Aring",197],["AElig",198],["Ccedil",199],["Egrave",200],["Eacute",201],["Ecirc",202],["Euml",203],["Igrave",204],["Iacute",205],["Icirc",206],["Iuml",207],["ETH",208],["Ntilde",209],["Ograve",210],["Oacute",211],["Ocirc",212],["Otilde",213],["Ouml",214],["times",215],["Oslash",216],["Ugrave",217],["Uacute",218],["Ucirc",219],["Uuml",220],["Yacute",221],["THORN",222],["szlig",223],["agrave",224],["aacute",225],["acirc",226],["atilde",227],["auml",228],["aring",229],["aelig",230],["ccedil",231],["egrave",232],["eacute",233],["ecirc",234],["euml",235],["igrave",236],["iacute",237],["icirc",238],["iuml",239],["eth",240],["ntilde",241],["ograve",242],["oacute",243],["ocirc",244],["otilde",245],["ouml",246],["divide",247],["oslash",248],["ugrave",249],["uacute",250],["ucirc",251],["uuml",252],["yacute",253],["thorn",254],["yuml",255],["fnof",402],["Alpha",913],["Beta",914],["Gamma",915],["Delta",916],["Epsilon",917],["Zeta",918],["Eta",919],["Theta",920],["Iota",921],["Kappa",922],["Lambda",923],["Mu",924],["Nu",925],["Xi",926],["Omicron",927],["Pi",928],["Rho",929],["Sigma",931],["Tau",932],["Upsilon",933],["Phi",934],["Chi",935],["Psi",936],["Omega",937],["alpha",945],["beta",946],["gamma",947],["delta",948],["epsilon",949],["zeta",950],["eta",951],["theta",952],["iota",953],["kappa",954],["lambda",955],["mu",956],["nu",957],["xi",958],["omicron",959],["pi",960],["rho",961],["sigmaf",962],["sigma",963],["tau",964],["upsilon",965],["phi",966],["chi",967],["psi",968],["omega",969],["thetasym",977],["upsih",978],["piv",982],["bull",8226],["hellip",8230],["prime",8242],["Prime",8243],["oline",8254],["frasl",8260],["weierp",8472],["image",8465],["real",8476],["trade",8482],["alefsym",8501],["larr",8592],["uarr",8593],["rarr",8594],["darr",8595],["harr",8596],["crarr",8629],["lArr",8656],["uArr",8657],["rArr",8658],["dArr",8659],["hArr",8660],["forall",8704],["part",8706],["exist",8707],["empty",8709],["nabla",8711],["isin",8712],["notin",8713],["ni",8715],["prod",8719],["sum",8721],["minus",8722],["lowast",8727],["radic",8730],["prop",8733],["infin",8734],["ang",8736],["and",8743],["or",8744],["cap",8745],["cup",8746],["int",8747],["there4",8756],["sim",8764],["cong",8773],["asymp",8776],["ne",8800],["equiv",8801],["le",8804],["ge",8805],["sub",8834],["sup",8835],["nsub",8836],["sube",8838],["supe",8839],["oplus",8853],["otimes",8855],["perp",8869],["sdot",8901],["lceil",8968],["rceil",8969],["lfloor",8970],["rfloor",8971],["lang",9001],["rang",9002],["spades",9824],["clubs",9827],["hearts",9829],["diams",9830],["loz",9674],["OElig",338],["oelig",339],["Scaron",352],["scaron",353],["Yuml",376],["circ",710],["tilde",732],["ndash",8211],["mdash",8212],["lsquo",8216],["rsquo",8217],["sbquo",8218],["ldquo",8220],["rdquo",8221],["bdquo",8222],["dagger",8224],["Dagger",8225],["permil",8240],["lsaquo",8249],["rsaquo",8250],["euro",8364],["NestedGreaterGreater",8811],["NestedLessLess",8810]],e=[["nbsp",160],["thinsp",8201],["ensp",8194],["emsp",8195],["shy",173],["zwnj",8204],["zwj",8205],["lrm",8206],["rlm",8207]];function t(){var t=this;this.entities=this.prepareEntities(n(n([],P,!0),e,!0)),this.entitiesByName={},this.entitiesByNameEntity={},this.entitiesByDigitEntity={},this.entitiesByUtf={},this.entities.forEach(function(e){t.entitiesByName[e.name]=e,t.entitiesByNameEntity[e.nameEntity]=e,t.entitiesByDigitEntity[e.digitEntity]=e,t.entitiesByUtf[e.utf]=e}),this.invisibleEntities=this.prepareEntities(e)}t.prototype.toUtf=function(e){var n=this;-1!==e.text.search(/&#/)&&(e.text=this.decHexToUtf(e.text)),-1!==e.text.search(/&[a-z]/i)&&(e.text=e.text.replace(/&[a-z\d]{2,31};/gi,function(e){var t=n.entitiesByNameEntity[e];return t?t.utf:e}))},t.prototype.decHexToUtf=function(e){return e.replace(/&#(\d{1,6});/gi,function(e,t){return String.fromCharCode(parseInt(t,10))}).replace(/&#x([\da-f]{1,6});/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})},t.prototype.restore=function(e){var t=e.prefs.htmlEntity,n=t.type,r=this.entities;"name"!==n&&"digit"!==n||((t.onlyInvisible||t.list)&&(r=[],t.onlyInvisible&&(r=r.concat(this.invisibleEntities)),t.list)&&(r=r.concat(this.prepareListParam(t.list))),e.text=this.restoreEntitiesByIndex(e.text,"name"===n?"nameEntity":"digitEntity",r))},t.prototype.getByUtf=function(e,t){var n;switch(t){case"digit":n=this.entitiesByDigitEntity[e];break;case"name":n=this.entitiesByNameEntity[e];break;default:n=e}return n},t.prototype.prepareEntities=function(e){var r=[];return e.forEach(function(e){var t=e[0],e=e[1],n=String.fromCharCode(e);r.push({name:t,nameEntity:"&"+t+";",digitEntity:"&#"+e+";",utf:n,reName:new RegExp("&"+t+";","g"),reUtf:new RegExp(n,"g")})}),r},t.prototype.prepareListParam=function(e){var t=this,n=[];return e.forEach(function(e){e=t.entitiesByName[e];e&&n.push(e)}),n},t.prototype.restoreEntitiesByIndex=function(t,n,e){return e.forEach(function(e){t=t.replace(e.reUtf,e[n])}),t};var o=new t,a=[];function i(e){e=(e||"").split("/")[0];e&&"common"!==e&&!s(e)&&(a.push(e),a.sort())}function s(e){return"common"===e||-1!==a.indexOf(e)}function u(e,t){e=e||t;return e?Array.isArray(e)?e:[e]:[]}function l(e){if(!e.length)throw Error('Not defined the property "locale".');e.forEach(function(e){if(!s(e))throw Error('"'.concat(e,'" is not supported locale.'))})}var c={};function N(e){return c[e]}function p(t){Object.keys(t).forEach(function(e){i(e),c[e]=t[e]})}var j=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"],g=new RegExp("(https?|file|ftp)://([a-zA-Z0-9/+-=%&:_.~?]+[a-zA-Z0-9#+]*)","g"),h="\\d+([.,]\\d+)?",O=/\d/;function f(e){return-1<e.search(O)}var d="ï€€",m="ï€",M=($.prototype.add=function(e){this.tags.own.push(this.prepareRegExp(e))},$.prototype.show=function(t,n){for(var e=new RegExp("ï€€tf\\d+ï€€","g"),r=new RegExp("ï€€tf\\d"),a=function(e){return t.safeTags.hidden[n][e]||e},i=0,o=this.tags[n].length;i<o&&(t.text=t.text.replace(e,a),-1!==t.text.search(r));i++);},$.prototype.hide=function(t,e){var n=this,r=(t.safeTags.hidden[e]={},this.pasteLabel.bind(this,t,e));this.tags[e].forEach(function(e){t.text=t.text.replace(n.prepareRegExp(e),r)})},$.prototype.hideHTMLTags=function(e){var t;e.isHTML&&(t=this.pasteLabel.bind(this,e,"html"),e.text=e.text.replace(/<\/?[a-z][^]*?>/gi,t).replace(/&lt;\/?[a-z][^]*?&gt;/gi,t).replace(/&[gl]t;/gi,t))},$.prototype.getPrevLabel=function(e,t){for(var n=t-1;0<=n;n--)if(e[n]===d)return e.slice(n,t+1);return""},$.prototype.getNextLabel=function(e,t){for(var n=t+1;n<e.length;n++)if(e[n]===d)return e.slice(t,n+1);return""},$.prototype.getTagByLabel=function(n,r){var a=null;return this.groups.some(function(e){var t=n.safeTags.hidden[e][r];return a=void 0!==t?{group:e,value:t}:a}),a},$.prototype.getTagInfo=function(e){if(!e)return null;var t={group:e.group};switch(e.group){case"html":t.name=e.value.split(/[<\s>]/)[1],t.isInline=-1<j.indexOf(t.name),t.isClosing=-1<e.value.search(/^<\//);break;case"url":t.isInline=!0;break;case"own":t.isInline=!1}return t},$.prototype.pasteLabel=function(e,t,n){var e=e.safeTags,r="ï€€tf"+e.counter+d;return e.hidden[t][r]=n,e.counter++,r},$.prototype.prepareRegExp=function(e){var t,n;return e instanceof RegExp?e:(t=e[0],n=e[2],new RegExp(t+(void 0===n?"[^]*?":n)+e[1],"gi"))},$.prototype.getPrevTagInfo=function(e,t,n){t=this.getPrevLabel(t,n-1);if(t){n=this.getTagByLabel(e,t);if(n)return this.getTagInfo(n)}return null},$.prototype.getNextTagInfo=function(e,t,n){t=this.getNextLabel(t,n+1);if(t){n=this.getTagByLabel(e,t);if(n)return this.getTagInfo(n)}return null},$);function $(){this.groups=["own","html","url"],this.hidden={},this.counter=0;var t=[["\x3c!--","--\x3e"],["<!ENTITY",">"],["<!DOCTYPE",">"],["<\\?xml","\\?>"],["<!\\[CDATA\\[","\\]\\]>"]];["code","kbd","object","pre","samp","script","style","var"].forEach(function(e){t.push(["<".concat(e,"(\\s[^>]*?)?>"),"</".concat(e,">")])}),this.tags={own:[],html:t.map(this.prepareRegExp),url:[g]}}function b(e,t){for(var n="";1==(1&t)&&(n+=e),0!=(t>>>=1);)e+=e;return n}function x(e){return e.replace(/\u00A0/g," ")}function v(e,t){for(var n=0;n<t.length;n++)e=e.replace(t[n][0],t[n][1]);return e}function U(e){return-1!==e.search(/(<\/?[a-z]|<!|&[lg]t;)/i)}function y(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}var Q={symbols:110,number:150,space:210,dash:310,punctuation:410,nbsp:510,money:710,date:810,other:910,optalign:1010,typo:1110,html:1210},F=0,H="default",W=[],G=[];function R(){var e=n([],W,!0);return e.sort(function(e,t){return e.index>t.index?1:-1}),e}function X(){return n([],G,!0)}function V(e){var t=e.name.split("/"),n=t[0];return{name:e.name,shortName:t[2],handler:e.handler,queue:e.queue||H,enabled:!0!==e.disabled,locale:n,group:t[1],index:"number"==typeof(n=e).index?n.index:(t=n.name.split("/")[1],void 0===(t=Q[t])&&(t=F),"string"==typeof n.index?t+parseInt(n.index,10):t),settings:e.settings,live:e.live,htmlAttrs:e.htmlAttrs}}function K(e){return{type:(null==e?void 0:e.type)||"default",list:null==e?void 0:e.list,onlyInvisible:Boolean(null==e?void 0:e.onlyInvisible)}}function Y(e){return e||"LF"}w.addRule=function(e){i((e=V(e=e)).locale),W.push(e)},w.addRules=function(e){var t=this;e.forEach(function(e){t.addRule(e)})},w.addInnerRule=function(e){G.push(V(e))},w.addInnerRules=function(e){var t=this;e.forEach(function(e){t.addInnerRule(e)})},w.getRule=function(t){var n=null;return R().some(function(e){return e.name===t&&(n=e,!0)}),n},w.getRules=R,w.getInnerRules=X,w.getLocales=function(){return a},w.addLocale=function(e){i(e)},w.hasLocale=s,w.setData=function(e){p(e)},w.getData=function(e){return c[e]},w.prototype.execute=function(e,t){var n;return(e=""+e)?(n=this.prefs,t=t,n=r({},n),t&&("locale"in t&&(n.locale=u(t.locale)),"htmlEntity"in t&&(n.htmlEntity=K(t.htmlEntity)),"lineEnding"in t&&(n.lineEnding=Y(t.lineEnding)),"processingSeparateParts"in t&&(n.processingSeparateParts=t.processingSeparateParts),"ruleFilter"in t)&&(n.ruleFilter=t.ruleFilter),l((t=n).locale),n=this.prepareContext(e,t),this.process(n)):""},w.prototype.getSetting=function(e,t){return this.settings[e]&&this.settings[e][t]},w.prototype.setSetting=function(e,t,n){this.settings[e]=this.settings[e]||{},this.settings[e][t]=n},w.prototype.isEnabledRule=function(e){return!1!==this.enabledRules[e]},w.prototype.isDisabledRule=function(e){return!this.enabledRules[e]},w.prototype.enableRule=function(e){return this.enable(e,!0)},w.prototype.disableRule=function(e){return this.enable(e,!1)},w.prototype.addSafeTag=function(e,t,n){e=e instanceof RegExp?e:[e,t,n];this.safeTags.add(e)},w.prototype.prepareContext=function(e,n){return{text:e,isHTML:U(e),prefs:n,getData:function(t){return"char"===t?n.locale.map(function(e){return c[e+"/"+t]}).join(""):N(n.locale[0]+"/"+t)},safeTags:this.safeTags}},w.prototype.splitBySeparateParts=function(a){var i,e,o;return a.isHTML&&!1!==a.prefs.processingSeparateParts?(i=[],e=new RegExp("<("+this.separatePartsTags.join("|")+")(\\s[^>]*?)?>[^]*?</\\1>","gi"),o=0,a.text.replace(e,function(e,t,n,r){return o!==r&&i.push((o?m:"")+a.text.slice(o,r)+m),i.push(e),o=r+e.length,e}),i.push(o?m+a.text.slice(o,a.text.length):a.text),i):[a.text]},w.prototype.process=function(t){var e,n=this,r=(t.text=t.text.replace(/\r\n?/g,"\n"),this.executeRules(t,"start"),this.safeTags.hide(t,"own"),this.executeRules(t,"hide-safe-tags-own"),this.safeTags.hide(t,"html"),this.executeRules(t,"hide-safe-tags-html"),t.isHTML),a=new RegExp(m,"g");return t.text=this.splitBySeparateParts(t).map(function(e){return t.text=e,t.isHTML=U(e),n.safeTags.hideHTMLTags(t),n.safeTags.hide(t,"url"),n.executeRules(t,"hide-safe-tags-url"),n.executeRules(t,"hide-safe-tags"),o.toUtf(t),t.prefs.live&&(t.text=x(t.text)),n.executeRules(t,"utf"),n.executeRules(t),o.restore(t),n.executeRules(t,"html-entities"),n.safeTags.show(t,"url"),n.executeRules(t,"show-safe-tags-url"),t.text.replace(a,"")}).join(""),t.isHTML=r,this.safeTags.show(t,"html"),this.executeRules(t,"show-safe-tags-html"),this.safeTags.show(t,"own"),this.executeRules(t,"show-safe-tags-own"),this.executeRules(t,"end"),r=t.text,"CRLF"===(e=t.prefs.lineEnding)?r.replace(/\n/g,"\r\n"):"CR"===e?r.replace(/\n/g,"\r"):r},w.prototype.executeRules=function(t,e){var n=this,r=this.rulesByQueues[e=void 0===e?H:e],e=this.innerRulesByQueues[e];e&&e.forEach(function(e){n.ruleIterator(t,e)}),r&&r.forEach(function(e){n.ruleIterator(t,e)})},w.prototype.ruleIterator=function(e,t){!0===e.prefs.live&&!1===t.live||!1===e.prefs.live&&!0===t.live||"common"!==t.locale&&t.locale!==e.prefs.locale[0]||!this.isEnabledRule(t.name)||e.prefs.ruleFilter&&!e.prefs.ruleFilter(t)||(this.onBeforeRule&&this.onBeforeRule(t.name,e),e.text=t.handler.call(this,e.text,this.settings[t.name],e),this.onAfterRule&&this.onAfterRule(t.name,e))},w.prototype.prepareRuleSettings=function(e){this.settings[e.name]=y(e.settings),this.enabledRules[e.name]=e.enabled},w.prototype.enable=function(e,t){var n=this;Array.isArray(e)?e.forEach(function(e){n.enableByMask(e,t)}):this.enableByMask(e,t)},w.prototype.enableByMask=function(e,t){var n,r=this;e&&(-1!==e.search(/\*/)?(n=new RegExp(e.replace(/\//g,"\\/").replace(/\*/g,".*")),this.rules.forEach(function(e){e=e.name;n.test(e)&&(r.enabledRules[e]=t)})):this.enabledRules[e]=t)},w.groups=[],w.titles={},w.version="7.4.4";var E=w;function w(e){var t=this;this.rules=[],this.innerRules=[],this.rulesByQueues={},this.innerRulesByQueues={},this.separatePartsTags=["title","p","h[1-6]","select","legend"],this.prefs={locale:u((e=e).locale),lineEnding:Y(e.lineEnding),live:Boolean(e.live),ruleFilter:e.ruleFilter,enableRule:e.enableRule,disableRule:e.disableRule,processingSeparateParts:e.processingSeparateParts,htmlEntity:K(e.htmlEntity)},l(this.prefs.locale),this.safeTags=new M,this.settings={},this.enabledRules={},this.innerRulesByQueues={},this.innerRules=X(),this.innerRules.forEach(function(e){t.innerRulesByQueues[e.queue]=t.innerRulesByQueues[e.queue]||[],t.innerRulesByQueues[e.queue].push(e)}),this.rulesByQueues={},this.rules=R(),this.rules.forEach(function(e){t.prepareRuleSettings(e),t.rulesByQueues[e.queue]=t.rulesByQueues[e.queue]||[],t.rulesByQueues[e.queue].push(e)}),this.prefs.disableRule&&this.disableRule(this.prefs.disableRule),this.prefs.enableRule&&this.enableRule(this.prefs.enableRule)}[{"common/char":"a-z","common/dash":"--?|â€’|â€“|â€”","common/quote":'Â«â€¹Â»â€ºâ€â€œâ€Ÿâ€"'},{"be/char":"Ğ°Ğ±Ğ²Ğ³Ğ´ĞµĞ¶Ğ·Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‹ÑŒÑÑÑÑ‘Ñ–ÑÒ‘","be/quote":{left:"Â«â€œ",right:"Â»â€"}},{"bg/char":"Ğ°Ğ±Ğ²Ğ³Ğ´ĞµĞ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑŒÑÑ","bg/quote":{left:"â€â€™",right:"â€œâ€™"}},{"ca/char":"abcdefghijlmnopqrstuvxyzÃ Ã§Ã¨Ã©Ã­Ã¯Ã²Ã³ÃºÃ¼","ca/quote":{left:"Â«â€œ",right:"Â»â€"}},{"cs/char":"a-zÃ¡Ã©Ã­Ã³ÃºÃ½ÄÄÄ›ÅˆÅ™Å¡Å¥Å¯Å¾","cs/quote":{left:"â€â€š",right:"â€œâ€˜"}},{"da/char":"a-zÃ¥Ã¦Ã¸","da/quote":{left:"Â»â€º",right:"Â«â€¹"}},{"de/char":"a-zÃŸÃ¤Ã¶Ã¼","de/quote":{left:"â€â€š",right:"â€œâ€˜"}},{"el/char":"ÎÎ¬Î­Î®Î¯Î°Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿Ï€ÏÏ‚ÏƒÏ„Ï…Ï†Ï‡ÏˆÏ‰ÏŠÏ‹ÏŒÏÏÏ²á½±á½³á½µá½·á½¹á½»á½½","el/quote":{left:"Â«â€œ",right:"Â»â€"}},{"en-GB/char":"a-z","en-GB/quote":{left:"â€˜â€œ",right:"â€™â€"}},{"en-US/char":"a-z","en-US/quote":{left:"â€œâ€˜",right:"â€â€™"},"en-US/shortWord":"a|an|and|as|at|bar|but|by|for|if|in|nor|not|of|off|on|or|out|per|pro|so|the|to|up|via|yet"},{"eo/char":"abcdefghijklmnoprstuvzÄ‰ÄÄ¥ÄµÅÅ­","eo/quote":{left:"â€œâ€˜",right:"â€â€™"}},{"es/char":"a-zÃ¡Ã©Ã­Ã±Ã³ÃºÃ¼","es/quote":{left:"Â«â€œ",right:"Â»â€"}},{"et/char":"abdefghijklmnoprstuvzÃ¤ÃµÃ¶Ã¼Å¡Å¾","et/quote":{left:"â€Â«",right:"â€œÂ»"}},{"fi/char":"abcdefghijklmnopqrstuvyÃ¶Ã¤Ã¥","fi/quote":{left:"â€â€™",right:"â€â€™"}},{"fr/char":"a-zÃ Ã¢Ã§Ã¨Ã©ÃªÃ«Ã®Ã¯Ã´Ã»Ã¼Å“Ã¦","fr/quote":{left:"Â«â€¹",right:"Â»â€º",spacing:!0}},{"ga/char":"abcdefghilmnoprstuvwxyzÃ¡Ã©Ã­Ã³Ãº","ga/quote":{left:"â€œâ€˜",right:"â€â€™"}},{"hu/char":"a-zÃ¡Ã¤Ã©Ã­Ã³Ã¶ÃºÃ¼Å‘Å±","hu/quote":{left:"â€Â»",right:"â€Â«"}},{"it/char":"a-zÃ Ã©Ã¨Ã¬Ã²Ã¹","it/quote":{left:"Â«â€œ",right:"Â»â€"}},{"lv/char":"abcdefghijklmnopqrstuvxzÃ¦Å“","lv/quote":{left:"Â«â€",right:"Â»â€œ"}},{"nl/char":"a-zÃ¤Ã§Ã¨Ã©ÃªÃ«Ã®Ã¯Ã±Ã¶Ã»Ã¼","nl/quote":{left:"â€˜â€œ",right:"â€™â€"}},{"no/char":"a-zÃ¥Ã¦Ã¨Ã©ÃªÃ²Ã³Ã´Ã¸","no/quote":{left:"Â«â€™",right:"Â»â€™"}},{"pl/char":"abcdefghijklmnoprstuvwxyzÃ³Ä…Ä‡Ä™Å‚Å„Å›ÅºÅ¼","pl/quote":{left:"â€Â«",right:"â€Â»"}},{"ro/char":"abcdefghijklmnoprstuvxzÃ®ÄƒÈ™È›","ro/quote":{left:"â€Â«",right:"â€Â»"}},{"ru/char":"Ğ°-ÑÑ‘","ru/dashBefore":"(^| |\\n)","ru/dashAfter":"(?=[Â  ,.?:!]|$)","ru/dashAfterDe":"(?=[,.?:!]|[Â  ][^Ğ-Ğ¯Ğ]|$)","ru/l":"Ğ°-ÑÑ‘a-z","ru/L":"Ğ-Ğ¯ĞA-Z","ru/month":"ÑĞ½Ğ²Ğ°Ñ€ÑŒ|Ñ„ĞµĞ²Ñ€Ğ°Ğ»ÑŒ|Ğ¼Ğ°Ñ€Ñ‚|Ğ°Ğ¿Ñ€ĞµĞ»ÑŒ|Ğ¼Ğ°Ğ¹|Ğ¸ÑĞ½ÑŒ|Ğ¸ÑĞ»ÑŒ|Ğ°Ğ²Ğ³ÑƒÑÑ‚|ÑĞµĞ½Ñ‚ÑĞ±Ñ€ÑŒ|Ğ¾ĞºÑ‚ÑĞ±Ñ€ÑŒ|Ğ½Ğ¾ÑĞ±Ñ€ÑŒ|Ğ´ĞµĞºĞ°Ğ±Ñ€ÑŒ","ru/monthGenCase":"ÑĞ½Ğ²Ğ°Ñ€Ñ|Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ|Ğ¼Ğ°Ñ€Ñ‚Ğ°|Ğ°Ğ¿Ñ€ĞµĞ»Ñ|Ğ¼Ğ°Ñ|Ğ¸ÑĞ½Ñ|Ğ¸ÑĞ»Ñ|Ğ°Ğ²Ğ³ÑƒÑÑ‚Ğ°|ÑĞµĞ½Ñ‚ÑĞ±Ñ€Ñ|Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ|Ğ½Ğ¾ÑĞ±Ñ€Ñ|Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ","ru/monthPreCase":"ÑĞ½Ğ²Ğ°Ñ€Ğµ|Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ğµ|Ğ¼Ğ°Ñ€Ñ‚Ğµ|Ğ°Ğ¿Ñ€ĞµĞ»Ğµ|Ğ¼Ğ°Ğµ|Ğ¸ÑĞ½Ğµ|Ğ¸ÑĞ»Ğµ|Ğ°Ğ²Ğ³ÑƒÑÑ‚Ğµ|ÑĞµĞ½Ñ‚ÑĞ±Ñ€Ğµ|Ğ¾ĞºÑ‚ÑĞ±Ñ€Ğµ|Ğ½Ğ¾ÑĞ±Ñ€Ğµ|Ğ´ĞµĞºĞ°Ğ±Ñ€Ğµ","ru/quote":{left:"Â«â€â€š",right:"Â»â€œâ€˜",removeDuplicateQuotes:!0},"ru/shortMonth":"ÑĞ½Ğ²|Ñ„ĞµĞ²|Ğ¼Ğ°Ñ€|Ğ°Ğ¿Ñ€|Ğ¼Ğ°[ĞµĞ¹Ñ]|Ğ¸ÑĞ½|Ğ¸ÑĞ»|Ğ°Ğ²Ğ³|ÑĞµĞ½|Ğ¾ĞºÑ‚|Ğ½Ğ¾Ñ|Ğ´ĞµĞº","ru/shortWord":"Ğ°|Ğ±Ñ‹|Ğ²|Ğ²Ğ¾|Ğ´Ğ°|Ğ´Ğ¾|Ğ¶Ğµ|Ğ·Ğ°|Ğ¸|Ğ¸Ğ·|Ğº|ĞºĞ¾|Ğ»Ğ¸|Ğ½Ğ°|Ğ½Ğµ|Ğ½Ğ¸|Ğ½Ğ¾|Ğ¾|Ğ¾Ğ±|Ğ¾Ñ‚|Ğ¿Ğ¾|Ñ|ÑĞ¾|Ñ‚Ğ¾|Ñƒ","ru/weekday":"Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº|Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº|ÑÑ€ĞµĞ´Ğ°|Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ğ³|Ğ¿ÑÑ‚Ğ½Ğ¸Ñ†Ğ°|ÑÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°|Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ"},{"sk/char":"abcdefghijklmnoprstuvwxyzÃ¡Ã¤Ã©Ã­Ã³Ã´ÃºÃ½ÄÄÄ¾ÅˆÅ•Å¡Å¥Å¾","sk/quote":{left:"â€â€š",right:"â€œâ€˜"}},{"sl/char":"a-zÄÅ¡Å¾","sl/quote":{left:"â€â€š",right:"â€œâ€˜"}},{"sr/char":"abcdefghijklmnoprstuvzÄ‡ÄÄ‘Å¡Å¾","sr/quote":{left:"â€â€™",right:"â€â€™"}},{"sv/char":"a-zÃ¤Ã¥Ã©Ã¶","sv/quote":{left:"â€â€™",right:"â€â€™"}},{"tr/char":"abcdefghijklmnoprstuvyzÃ¢Ã§Ã®Ã¶Ã»Ã¼ÄŸÄ±ÅŸ","tr/quote":{left:"â€œâ€˜",right:"â€â€™"}},{"uk/char":"Ğ°Ğ±Ğ²Ğ³Ğ´ĞµĞ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŒÑÑÑ”Ñ–Ñ—Ò‘","uk/quote":{left:"Â«â€",right:"Â»â€œ"}}].forEach(p);var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},q={name:"common/html/escape",index:"+100",queue:"end",handler:function(e){return e.replace(/[&<>"'/]/g,function(e){return Z[e]})},disabled:!0},J=new RegExp("<("+["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"].join("|")+")[>\\s]"),q=(E.addRules([{name:"common/html/e-mail",queue:"end",handler:function(e,t,n){return n.isHTML?e:e.replace(/(^|[\s;(])([\w\-.]{2,64})@([\w\-.]{2,64})\.([a-z]{2,64})([)\s.,!?]|$)/gi,'$1<a href="mailto:$2@$3.$4">$2@$3.$4</a>$5')},disabled:!0,htmlAttrs:!1},q,{name:"common/html/nbr",index:"+10",queue:"end",handler:function(e){return e.replace(/([^\n>])\n(?=[^\n])/g,"$1<br/>\n")},disabled:!0,htmlAttrs:!1},{name:"common/html/p",index:"+5",queue:"end",handler:function(e){e=e.split("\n\n");return e.forEach(function(e,t,n){!e.trim()||J.test(e)||(n[t]=e.replace(/^(\s*)/,"$1<p>").replace(/(\s*)$/,"</p>$1"))}),e.join("\n\n")},disabled:!0,htmlAttrs:!1},{name:"common/html/processingAttrs",queue:"hide-safe-tags-own",handler:function(e,t,n){var o=this,r=new RegExp("(^|\\s)("+t.attrs.join("|")+")=(\"[^\"]*?\"|'[^']*?')","gi"),s=y(n.prefs);return s.ruleFilter=function(e){return!1!==e.htmlAttrs},e.replace(/(<[-\w]+\s)([^>]+?)(?=>)/g,function(e,t,n){return t+n.replace(r,function(e,t,n,r){var a=r[0],i=r[r.length-1],r=r.slice(1,-1);return t+n+"="+a+o.execute(r,s)+i})})},settings:{attrs:["title","placeholder"]},disabled:!0,htmlAttrs:!1},{name:"common/html/quot",queue:"hide-safe-tags",handler:function(e){return e.replace(/&quot;/g,'"')}},{name:"common/html/stripTags",index:"+99",queue:"end",handler:function(e){return e.replace(/<[^>]+>/g,"")},disabled:!0},{name:"common/html/url",queue:"end",handler:function(e,t,n){return n.isHTML?e:e.replace(g,function(e,t,n){n=n.replace(/([^/]+\/?)(\?|#)$/,"$1").replace(/^([^/]+)\/$/,"$1"),"http"===t?n=n.replace(/^([^/]+)(:80)([^\d]|\/|$)/,"$1$3"):"https"===t&&(n=n.replace(/^([^/]+)(:443)([^\d]|\/|$)/,"$1$3"));var r=n,n=t+"://"+n,a='<a href="'+n+'">';return"http"===t||"https"===t?(r=r.replace(/^www\./,""),a+("http"===t?r:t+"://"+r)+"</a>"):a+n+"</a>"})},disabled:!0,htmlAttrs:!1}]),{name:"common/nbsp/afterNumber",handler:function(e,t,n){n=n.getData("char");return e.replace(new RegExp("(^|\\s)(\\d{1,5}) (["+n+"]+)","gi"),"$1$2Â $3")},disabled:!0});function _(e,t,n,r){return t+n.replace(/([^\u00A0])\u00A0([^\u00A0])/g,"$1 $2")+r}E.addRules([q,{name:"common/nbsp/afterParagraphMark",handler:function(e){return e.replace(/Â¶ ?(?=\d)/g,"Â¶Â ")}},{name:"common/nbsp/afterSectionMark",handler:function(e,t,n){n=n.prefs.locale[0];return e.replace(/Â§[ \u00A0\u2009]?(?=\d|I|V|X)/g,"ru"===n?"Â§â€¯":"Â§Â ")}},{name:"common/nbsp/afterShortWord",handler:function(e,t,n){var r=t.lengthShortWord,t=t.useShortWordList,a=c["common/quote"],i=n.getData("char"),n=n.getData("shortWord"),a=" Â (ï€€"+a,t=new RegExp(t&&void 0!==n?"(^|["+a+"])("+n+") ":"(^|["+a+"])(["+i+"]{1,"+r+"}) ","gim");return e.replace(t,"$1$2Â ").replace(t,"$1$2Â ")},settings:{lengthShortWord:2,useShortWordList:!1}},{name:"common/nbsp/beforeShortLastNumber",handler:function(e,t,n){var r=n.getData("quote"),n=n.getData("char"),a=n.toUpperCase(),n=new RegExp("(["+n+a+"]) (?=\\d{1,"+t.lengthLastNumber+"}[-+âˆ’%'\""+r.right+")]?([.!?â€¦]( ["+a+"]|$)|$))","gm");return e.replace(n,"$1Â ")},live:!1,settings:{lengthLastNumber:2}},{name:"common/nbsp/beforeShortLastWord",handler:function(e,t,n){var n=n.getData("char"),r=n.toUpperCase(),n=new RegExp("(["+n+"\\d]) (["+n+r+"]{1,"+t.lengthLastWord+"}[.!?â€¦])( ["+r+"]|$)","g");return e.replace(n,"$1Â $2$3")},settings:{lengthLastWord:3}},{name:"common/nbsp/dpi",handler:function(e){return e.replace(/(\d) ?(lpi|dpi)(?!\w)/,"$1Â $2")}},{name:"common/nbsp/nowrap",queue:"end",handler:function(e){return e.replace(/(<nowrap>)(.*?)(<\/nowrap>)/g,_).replace(/(<nobr>)(.*?)(<\/nobr>)/g,_)}},{name:"common/nbsp/replaceNbsp",queue:"utf",live:!1,handler:x,disabled:!0}]);q={name:"common/number/digitGrouping",index:"310",disabled:!0,handler:function(e,a){return e.replace(new RegExp("(^ ?|\\D |".concat(d,")(\\d{1,3}([ Â â€¯â€‰]\\d{3})+)(?! ?[\\d-])"),"gm"),function(e,t,n){return t+n.replace(/\s/g,a.space)}).replace(/(\d{5,}([.,]\d+)?)/g,function(e,t){var n=t.match(/[.,]/),t=n?t.split(n):[t],r=t[0],t=t[1],r=r.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1"+a.space);return n?r+n+t:r})},settings:{space:"â€¯"}},E.addRules([q,{name:"common/number/fraction",handler:function(e){return e.replace(/(^|\D)1\/2(\D|$)/g,"$1Â½$2").replace(/(^|\D)1\/4(\D|$)/g,"$1Â¼$2").replace(/(^|\D)3\/4(\D|$)/g,"$1Â¾$2")}},{name:"common/number/mathSigns",handler:function(e){return v(e,[[/!=/g,"â‰ "],[/<=/g,"â‰¤"],[/(^|[^=])>=/g,"$1â‰¥"],[/<=>/g,"â‡”"],[/<</g,"â‰ª"],[/>>/g,"â‰«"],[/~=/g,"â‰…"],[/(^|[^+])\+-/g,"$1Â±"]])}},{name:"common/number/times",handler:function(e){return e.replace(/(\d)[ \u00A0]?[xÑ…][ \u00A0]?(\d)/g,"$1Ã—$2")}}]),E.addRules([{name:"common/other/delBOM",queue:"start",index:-1,handler:function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}},{name:"common/other/repeatWord",handler:function(e,t,n){var r=c["common/quote"],n=n.getData("char"),r="[;:,.?! \n"+r+"]",n=new RegExp("("+r+"|^)(["+n+"]{"+t.min+",}) \\2("+r+"|$)","gi");return e.replace(n,"$1$2$3")},settings:{min:2},disabled:!0}]),q={name:"common/punctuation/apostrophe",handler:function(e,t,n){n="(["+n.getData("char")+"])",n=new RegExp(n+"'"+n,"gi");return e.replace(n,"$1â€™$2")}};function A(){this.bufferQuotes={left:"ï€…ï€†ï€‡",right:"ï€ˆï€‰ï‚ "},this.beforeLeft=" \n\tÂ [(",this.afterRight=" \n\tÂ !?.:;#*,â€¦)\\]"}A.prototype.process=function(e){var t,n,r=e.context.text;return this.count(r).total&&(t=e.settings,(n=e.settings.left[0]===e.settings.right[0])&&(e.settings=y(e.settings),e.settings.left=this.bufferQuotes.left.slice(0,e.settings.left.length),e.settings.right=this.bufferQuotes.right.slice(0,e.settings.right.length)),e.settings.spacing&&(r=this.removeSpacing(r,e.settings)),r=this.set(r,e),e.settings.spacing&&(r=this.setSpacing(r,e.settings)),e.settings.removeDuplicateQuotes&&(r=this.removeDuplicates(r,e.settings)),n)&&(r=this.returnOriginalQuotes(r,t,e.settings),e.settings=t),r},A.prototype.returnOriginalQuotes=function(e,t,n){for(var r={},a=0;a<n.left.length;a++)r[n.left[a]]=t.left[a],r[n.right[a]]=t.right[a];return e.replace(new RegExp("["+n.left+n.right+"]","g"),function(e){return r[e]})},A.prototype.count=function(e){var t={total:0};return e.replace(new RegExp("["+c["common/quote"]+"]","g"),function(e){return t[e]||(t[e]=0),t[e]++,t.total++,e}),t},A.prototype.removeDuplicates=function(e,t){var n=t.left[0],r=t.left[1]||n,t=t.right[0];return n!==r?e:e.replace(new RegExp(n+n,"g"),n).replace(new RegExp(t+t,"g"),t)},A.prototype.removeSpacing=function(e,t){for(var n=0,r=t.left.length;n<r;n++){var a=t.left[n],i=t.right[n];e=e.replace(new RegExp(a+"([ â€¯Â ])","g"),a).replace(new RegExp("([ â€¯Â ])"+i,"g"),i)}return e},A.prototype.setSpacing=function(e,t){for(var n=0,r=t.left.length;n<r;n++){var a=t.left[n],i=t.right[n];e=e.replace(new RegExp(a+"([^â€¯])","g"),a+"â€¯$1").replace(new RegExp("([^â€¯])"+i,"g"),"$1â€¯"+i)}return e},A.prototype.set=function(e,t){var n=c["common/quote"],r=t.settings.left[0],a=t.settings.left[1]||r,i=t.settings.right[0],o=new RegExp("(^|["+this.beforeLeft+"])(["+n+"]+)(?=[^\\s"+d+"])","gim"),n=new RegExp("([^\\sï€€])(["+n+"]+)(?=["+this.afterRight+"]|$)","gim");return e=e.replace(o,function(e,t,n){return t+b(r,n.length)}).replace(n,function(e,t,n){return t+b(i,n.length)}),e=this.setAboveTags(e,t),e=r!==a?this.setInner(e,t.settings):e},A.prototype.setAboveTags=function(i,o){var s=this,u=o.settings.left[0],l=o.settings.right[0];return i.replace(new RegExp("(^|.)(["+c["common/quote"]+"])(.|$)","gm"),function(e,t,n,r,a){return t!==d&&r!==d?e:t===d&&r===d?'"'===n?t+s.getAboveTwoTags(i,a+1,o)+r:e:t===d?(n=-1<s.afterRight.indexOf(r),e=o.safeTags.getPrevTagInfo(o.context,i,a+1),n&&e&&"html"===e.group?t+(e.isClosing?l:u)+r:t+(!r||n?l:u)+r):(e=-1<s.beforeLeft.indexOf(t),n=o.safeTags.getNextTagInfo(o.context,i,a+1),e&&n&&"html"===n.group?t+(n.isClosing?l:u)+r:t+(!t||e?u:l)+r)})},A.prototype.getAboveTwoTags=function(e,t,n){var r=n.safeTags.getPrevTagInfo(n.context,e,t),a=n.safeTags.getNextTagInfo(n.context,e,t);if(r&&"html"===r.group){if(!r.isClosing)return n.settings.left[0];if(a&&a.isClosing&&r.isClosing)return n.settings.right[0]}return e[t]},A.prototype.setInner=function(e,t){for(var n=t.left[0],r=t.right[0],a=this.getMaxLevel(e,n,r,t.left.length),i=0,o="",s=0,u=e.length;s<u;s++){var l=e[s];l===n?(o+=t.left[a-1<i?a-1:i],a<++i&&(i=a)):l===r?(--i<0&&(i=0),o+=t.right[i]):('"'===l&&(i=0),o+=l)}return o},A.prototype.getMaxLevel=function(e,t,n,r){e=this.count(e);return e[t]===e[n]?r:Math.min(r,2)};var ee=new A,te={},T=(a.forEach(function(e){te[e]=y(c[e+"/quote"])}),{name:"common/punctuation/quote",handler:function(e,t,n){t=t[n.prefs.locale[0]];return t?ee.process({context:n,settings:t,safeTags:this.safeTags}):e},settings:te}),q=(E.addRules([q,{name:"common/punctuation/delDoublePunctuation",handler:function(e){return e.replace(/(^|[^,]),,(?!,)/g,"$1,").replace(/(^|[^:])::(?!:)/g,"$1:").replace(/(^|[^!?.])\.\.(?!\.)/g,"$1.").replace(/(^|[^;]);;(?!;)/g,"$1;").replace(/(^|[^?])\?\?(?!\?)/g,"$1?")}},{name:"common/punctuation/hellip",handler:function(e,t,n){return"ru"===n.prefs.locale[0]?e.replace(/(^|[^.])\.{3,4}(?=[^.]|$)/g,"$1â€¦"):e.replace(/(^|[^.])\.{3}(\.?)(?=[^.]|$)/g,"$1â€¦$2")}},T,{name:"common/punctuation/quoteLink",queue:"show-safe-tags-html",index:"+5",handler:function(e,t,n){var n=this.getSetting("common/punctuation/quote",n.prefs.locale[0]),r=o.getByUtf(n.left[0]),a=o.getByUtf(n.right[0]),i=(i=o.getByUtf(n.left[1]))?"|"+i:"",n=(n=o.getByUtf(n.right[1]))?"|"+n:"",r=new RegExp("(<[aA]\\s[^>]*?>)("+r+i+")([^]*?)("+a+n+")(</[aA]>)","g");return e.replace(r,"$2$1$3$5$4")}}]),{name:"common/space/beforeBracket",handler:function(e,t,n){n=n.getData("char"),n=new RegExp("(["+n+".!?,;â€¦)])\\(","gi");return e.replace(n,"$1 (")}}),T={name:"common/space/delRepeatN",index:"-1",handler:function(e,t){var t=t.maxConsecutiveLineBreaks,n=new RegExp("\n{".concat(t+1,",}"),"g"),t=b("\n",t);return e.replace(n,t)},settings:{maxConsecutiveLineBreaks:2}},B={name:"common/space/trimLeft",index:"-4",handler:String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.replace(/^[\s\uFEFF\xA0]+/g,"")}},ne={name:"common/space/trimRight",index:"-3",live:!1,handler:String.prototype.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/[\s\uFEFF\xA0]+$/g,"")}},re=new RegExp('(\\D):([^)",:.?\\s\\/\\\\ï€€])',"g"),k={name:"common/space/afterColon",handler:function(e){return e.replace(re,"$1: $2")}},L={name:"common/space/afterComma",handler:function(e,t,n){n=n.getData("quote"),n="string"==typeof n?n:n.right;return e.replace(new RegExp('(.),([^)",:.?\\s\\/\\\\ï€€'+n+"])","g"),function(e,t,n){return f(t)&&f(n)?e:t+", "+n})}},ae=new RegExp("\\?([^).â€¦!;?\\s[\\])ï€€"+c["common/quote"]+"])","g"),D={name:"common/space/afterQuestionMark",handler:function(e){return e.replace(ae,"? $1")}},ie=new RegExp("!([^).â€¦!;?\\s[\\])ï€€"+c["common/quote"]+"])","g"),S={name:"common/space/afterExclamationMark",handler:function(e){return e.replace(ie,"! $1")}},oe=new RegExp(";([^).â€¦!;?\\s[\\])ï€€"+c["common/quote"]+"])","g"),k=(E.addRules([k,L,D,S,{name:"common/space/afterSemicolon",handler:function(e){return e.replace(oe,"; $1")}},q,{name:"common/space/bracket",handler:function(e){return e.replace(/(\() +/g,"(").replace(/ +\)/g,")")}},{name:"common/space/delBeforeDot",handler:function(e){return e.replace(/(^|[^!?:;,.â€¦]) (\.|\.\.\.)(\s|$)/g,"$1$2$3")}},{name:"common/space/delBeforePercent",handler:function(e){return e.replace(/(\d)( |\u00A0)(%|â€°|â€±)/g,"$1$3")}},{name:"common/space/delBeforePunctuation",handler:function(e){return e.replace(/(^|[^!?:;,.â€¦]) ([!?:;,])(?!\))/g,"$1$2")}},{name:"common/space/delBetweenExclamationMarks",handler:function(e){return e.replace(/([!?]) (?=[!?])/g,"$1")}},{name:"common/space/delLeadingBlanks",handler:function(e){return e.replace(/^[ \t]+/gm,"")},disabled:!0},T,{name:"common/space/delRepeatSpace",index:"-1",handler:function(e){return e.replace(/([^\n \t])[ \t]{2,}(?![\n \t])/g,"$1 ")}},{name:"common/space/delTrailingBlanks",index:"-3",handler:function(e){return e.replace(/[ \t]+\n/g,"\n")}},{name:"common/space/insertFinalNewline",queue:"end",handler:function(e){return"\n"===e[e.length-1]?e:e+"\n"},live:!1,disabled:!0},{name:"common/space/replaceTab",index:"-5",handler:function(e){return e.replace(/\t/g,"    ")}},{name:"common/space/squareBracket",handler:function(e){return e.replace(/(\[) +/g,"[").replace(/ +\]/g,"]")}},B,ne]),{name:"common/symbols/arrow",handler:function(e){return v(e,[[/(^|[^-])->(?!>)/g,"$1â†’"],[/(^|[^<])<-(?!-)/g,"$1â†"]])}}),L=(E.addRules([k,{name:"common/symbols/cf",handler:function(e){var t=new RegExp('(^|[\\s(\\[+â‰ˆÂ±âˆ’â€”â€“\\-])(\\d+(?:[.,]\\d+)?)[ Â â€‰]?(C|F)([\\W\\s.,:!?")\\]]|$)',"mg");return e.replace(t,"$1$2â€‰Â°$3$4")}},{name:"common/symbols/copy",handler:function(e){return v(e,[[/\(r\)/gi,"Â®"],[/(copyright )?\((c|Ñ)\)/gi,"Â©"],[/\(tm\)/gi,"â„¢"]])}}]),{name:"en-US/dash/main",index:"-5",handler:function(e){var t=c["common/dash"],n="[ ".concat("Â ","]"),r="[ ".concat("Â ","\n]"),n=new RegExp("".concat(n,"(").concat(t,")(").concat(r,")"),"g");return e.replace(n,"".concat("Â ").concat("â€”","$2"))}}),D=(E.addRules([L]),{name:"ru/dash/centuries",handler:function(e,t){var n=new RegExp("(X|I|V)[ |Â ]?"+("("+c["common/dash"]+")")+"[ |Â ]?(X|I|V)","g");return e.replace(n,"$1"+t.dash+"$3")},settings:{dash:"â€“"}}),S=(E.addRules([D,{name:"ru/dash/daysMonth",handler:function(e,t){var n=new RegExp("(^|\\s)([123]?\\d)("+c["common/dash"]+")([123]?\\d)[ Â ]("+c["ru/monthGenCase"]+")","g");return e.replace(n,"$1$2"+t.dash+"$4Â $5")},settings:{dash:"â€“"}},{name:"ru/dash/de",handler:function(e){var t=new RegExp("([a-ÑÑ‘]+) Ğ´Ğµ"+c["ru/dashAfterDe"],"g");return e.replace(t,"$1-Ğ´Ğµ")},disabled:!0},{name:"ru/dash/decade",handler:function(e,t){var n=new RegExp("(^|\\s)(\\d{3}|\\d)0("+c["common/dash"]+")(\\d{3}|\\d)0(-Ğµ[ Â ])(?=Ğ³\\.?[ Â ]?Ğ³|Ğ³Ğ¾Ğ´)","g");return e.replace(n,"$1$20"+t.dash+"$40$5")},settings:{dash:"â€“"}},{name:"ru/dash/directSpeech",handler:function(e){var t=c["common/dash"],n=new RegExp('(["Â»â€˜â€œ,])[ |Â ]?('.concat(t,")[ |Â ]"),"g"),r=new RegExp("(^|".concat(d,")(").concat(t,")( |Â )"),"gm"),t=new RegExp("([.â€¦?!])[ Â ](".concat(t,")[ Â ]"),"g");return e.replace(n,"$1Â â€” ").replace(r,"$1â€”Â ").replace(t,"$1 â€”Â ")}},{name:"ru/dash/izpod",handler:function(e){var t=new RegExp(c["ru/dashBefore"]+"(Ğ˜|Ğ¸)Ğ· Ğ¿Ğ¾Ğ´"+c["ru/dashAfter"],"g");return e.replace(t,"$1$2Ğ·-Ğ¿Ğ¾Ğ´")}},{name:"ru/dash/izza",handler:function(e){var t=new RegExp(c["ru/dashBefore"]+"(Ğ˜|Ğ¸)Ğ· Ğ·Ğ°"+c["ru/dashAfter"],"g");return e.replace(t,"$1$2Ğ·-Ğ·Ğ°")}},{name:"ru/dash/ka",handler:function(e){var t=new RegExp("([a-ÑÑ‘]+) ĞºĞ°(ÑÑŒ)?"+c["ru/dashAfter"],"g");return e.replace(t,"$1-ĞºĞ°$2")}},{name:"ru/dash/koe",handler:function(e){var t=new RegExp(c["ru/dashBefore"]+"([ĞšĞº]Ğ¾[ĞµĞ¹])\\s([Ğ°-ÑÑ‘]{3,})"+c["ru/dashAfter"],"g");return e.replace(t,"$1$2-$3")}},{name:"ru/dash/main",index:"-5",handler:function(e){var t=new RegExp("([ Â ])("+c["common/dash"]+")([ Â \\n])","g");return e.replace(t,"Â â€”$3")}},{name:"ru/dash/month",handler:function(e,t){var n="("+c["ru/month"]+")",r="("+c["ru/monthPreCase"]+")",a=c["common/dash"],n=new RegExp(n+" ?("+a+") ?"+n,"gi"),a=new RegExp(r+" ?("+a+") ?"+r,"gi"),r="$1"+t.dash+"$3";return e.replace(n,r).replace(a,r)},settings:{dash:"â€“"}},{name:"ru/dash/surname",handler:function(e){var t=new RegExp("([Ğ-Ğ¯Ğ][Ğ°-ÑÑ‘]+)\\s-([Ğ°-ÑÑ‘]{1,3})(?![^Ğ°-ÑÑ‘]|$)","g");return e.replace(t,"$1Â â€”$2")}},{name:"ru/dash/taki",handler:function(e){var t=new RegExp("(Ğ²ĞµÑ€Ğ½Ğ¾|Ğ´Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾|Ğ¾Ğ¿ÑÑ‚ÑŒ|Ğ¿Ñ€ÑĞ¼Ğ¾|Ñ‚Ğ°Ğº|Ğ²Ñ[ĞµÑ‘]|Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾|Ğ½ĞµÑƒĞ¶ĞµĞ»Ğ¸)\\s(Ñ‚Ğ°ĞºĞ¸)"+c["ru/dashAfter"],"g");return e.replace(t,"$1-$2")}},{name:"ru/dash/time",handler:function(e,t){var n=new RegExp(c["ru/dashBefore"]+"(\\d?\\d:[0-5]\\d)"+c["common/dash"]+"(\\d?\\d:[0-5]\\d)"+c["ru/dashAfter"],"g");return e.replace(n,"$1$2"+t.dash+"$3")},settings:{dash:"â€“"}},{name:"ru/dash/to",handler:function(e){var t=new RegExp("(^|[^Ğ-Ğ¯ĞĞ°-ÑÑ‘\\w])([ĞĞ¾]Ñ‚ĞºÑƒĞ´Ğ°|[ĞšĞº]ÑƒĞ´Ğ°|[Ğ“Ğ³]Ğ´Ğµ|[ĞšĞº]Ğ¾Ğ³Ğ´Ğ°|[Ğ—Ğ·]Ğ°Ñ‡ĞµĞ¼|[ĞŸĞ¿]Ğ¾Ñ‡ĞµĞ¼Ñƒ|[ĞšĞº]Ğ°Ğº|[ĞšĞº]Ğ°ĞºĞ¾[ĞµĞ¹Ğ¼]|[ĞšĞº]Ğ°ĞºĞ°Ñ|[ĞšĞº]Ğ°ĞºĞ¸[ĞµĞ¼Ñ…]|[ĞšĞº]Ğ°ĞºĞ¸Ğ¼Ğ¸|[ĞšĞº]Ğ°ĞºÑƒÑ|[Ğ§Ñ‡]Ñ‚Ğ¾|[Ğ§Ñ‡]ĞµĞ³Ğ¾|[Ğ§Ñ‡]Ğµ[Ğ¹Ğ¼]|[Ğ§Ñ‡]ÑŒĞ¸Ğ¼?|[ĞšĞº]Ñ‚Ğ¾|[ĞšĞº]Ğ¾Ğ³Ğ¾|[ĞšĞº]Ğ¾Ğ¼Ñƒ|[ĞšĞº]ĞµĞ¼)( | -|- )(Ñ‚Ğ¾|Ğ»Ğ¸Ğ±Ğ¾|Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ)"+c["ru/dashAfter"],"g");return e.replace(t,function(e,t,n,r,a){r=n+r+a;return"ĞºĞ°Ğº Ñ‚Ğ¾"===r||"ĞšĞ°Ğº Ñ‚Ğ¾"===r?e:t+n+"-"+a})}},{name:"ru/dash/kakto",handler:function(e){var t=new RegExp("(^|[^Ğ-Ğ¯ĞĞ°-ÑÑ‘\\w])([ĞšĞº]Ğ°Ğº) Ñ‚Ğ¾"+c["ru/dashAfter"],"g");return e.replace(t,"$1$2-Ñ‚Ğ¾")}},{name:"ru/dash/weekday",handler:function(e,t){var n="("+c["ru/weekday"]+")",n=new RegExp(n+" ?("+c["common/dash"]+") ?"+n,"gi");return e.replace(n,"$1"+t.dash+"$3")},settings:{dash:"â€“"}},{name:"ru/dash/years",handler:function(e,i){var t=new RegExp("(\\D|^)(\\d{4})[ Â ]?("+c["common/dash"]+")[ Â ]?(\\d{4})(?=[ Â ]?Ğ³)","g");return e.replace(t,function(e,t,n,r,a){return parseInt(n,10)<parseInt(a,10)?t+n+i.dash+a:e})},settings:{dash:"â€“"}}]),"(-|\\.|\\/)"),q="(-|\\/)",se=new RegExp("(^|\\D)(\\d{4})"+S+"(\\d{2})"+S+"(\\d{2})(\\D|$)","gi"),ue=new RegExp("(^|\\D)(\\d{2})"+q+"(\\d{2})"+q+"(\\d{4})(\\D|$)","gi"),T=(E.addRules([{name:"ru/date/fromISO",handler:function(e){return e.replace(se,"$1$6.$4.$2$7").replace(ue,"$1$4.$2.$6$7")}},{name:"ru/date/weekday",handler:function(e){var t=new RegExp("(\\d)( |Â )("+c["ru/monthGenCase"]+"),( |Â )("+c["ru/weekday"]+")","gi");return e.replace(t,function(e,t,n,r,a,i){return t+n+r.toLowerCase()+","+a+i.toLowerCase()})}}]),{name:"ru/money/currency",handler:function(e){var t="([$â‚¬Â¥Ò°Â£â‚¤â‚½])",n=new RegExp("(^|[\\D]{2})"+t+" ?("+h+"([ Â â€‰â€¯]\\d{3})*)([ Â â€‰â€¯]?(Ñ‚Ñ‹Ñ\\.|Ğ¼Ğ»Ğ½|Ğ¼Ğ»Ñ€Ğ´|Ñ‚Ñ€Ğ»Ğ½))?","gm"),t=new RegExp("(^|[\\D])("+h+") ?"+t,"gm");return e.replace(n,function(e,t,n,r,a,i,o,s){return t+r+(s?"Â "+s:"")+"Â "+n}).replace(t,"$1$2Â $4")},disabled:!0});function le(e,t,n,r){return"Ğ´Ğ´"===n&&"Ğ¼Ğ¼"===r||-1<["Ñ€Ñ„","Ñ€Ñƒ","Ñ€ÑƒÑ","Ğ¾Ñ€Ğ³","ÑƒĞºÑ€","Ğ±Ğ³","ÑÑ€Ğ±"].indexOf(r)?e:t+n+".Â "+r+"."}E.addRules([T,{name:"ru/money/ruble",handler:function(e){var t="$1Â â‚½",n="(\\d+)( |Â )?(Ñ€|Ñ€ÑƒĞ±)\\.",r=new RegExp("^"+n+"$","g"),a=new RegExp(n+"(?=[!?,:;])","g"),n=new RegExp(n+"(?=\\s+[A-Ğ¯Ğ])","g");return e.replace(r,t).replace(a,t).replace(n,t+".")},disabled:!0}]);var ce={2:"Â²","Â²":"Â²",3:"Â³","Â³":"Â³","":""};E.addRules([{name:"ru/nbsp/abbr",handler:function(e){var t=new RegExp("(^|\\s|".concat(d,")([Ğ°-ÑÑ‘]{1,3})\\. ?([Ğ°-ÑÑ‘]{1,3})\\."),"g");return e.replace(t,le).replace(t,le)}},{name:"ru/nbsp/addr",handler:function(e){return e.replace(/(\s|^)(Ğ´Ğ¾Ğ¼|Ğ´\.|ĞºĞ²\.|Ğ¿Ğ¾Ğ´\.|Ğ¿-Ğ´) *(\d+)/gi,"$1$2Â $3").replace(/(\s|^)(Ğ¼ĞºÑ€-Ğ½|Ğ¼Ğº-Ğ½|Ğ¼ĞºÑ€\.|Ğ¼ĞºÑ€Ğ½)\s/gi,"$1$2Â ").replace(/(\s|^)(ÑÑ‚\.) *(-?\d+)/gi,"$1$2Â $3").replace(/(\s|^)(\d+) +ÑÑ‚Ğ°Ğ¶([^Ğ°-ÑÑ‘]|$)/gi,"$1$2Â ÑÑ‚Ğ°Ğ¶$3").replace(/(\s|^)Ğ»Ğ¸Ñ‚ĞµÑ€\s([Ğ-Ğ¯]|$)/gi,"$1Ğ»Ğ¸Ñ‚ĞµÑ€Â $2").replace(/(\s|^)(Ğ¾Ğ±Ğ»|ĞºÑ€|ÑÑ‚|Ğ¿Ğ¾Ñ|Ñ|Ğ´|ÑƒĞ»|Ğ¿ĞµÑ€|Ğ¿Ñ€|Ğ¿Ñ€-Ñ‚|Ğ¿Ñ€Ğ¾ÑĞ¿|Ğ¿Ğ»|Ğ±ÑƒĞ»|Ğ±-Ñ€|Ğ½Ğ°Ğ±|Ñˆ|Ñ‚ÑƒĞ¿|Ğ¾Ñ„|ĞºĞ¾Ğ¼Ğ½?|ÑƒÑ‡|Ğ²Ğ»|Ğ²Ğ»Ğ°Ğ´|ÑÑ‚Ñ€|ĞºĞ¾Ñ€)\. *([Ğ°-ÑÑ‘a-z\d]+)/gi,"$1$2.Â $3").replace(/(\D[ \u00A0]|^)Ğ³\. ?([Ğ-Ğ¯Ğ])/gm,"$1Ğ³.Â $2")}},{name:"ru/nbsp/afterNumberSign",handler:function(e){return e.replace(/â„–[ \u00A0\u2009]?(\d|Ğ¿\/Ğ¿)/g,"â„–â€¯$1")}},{name:"ru/nbsp/beforeParticle",index:"+5",handler:function(e){var t="(Ğ»Ğ¸|Ğ»ÑŒ|Ğ¶Ğµ|Ğ¶|Ğ±Ñ‹|Ğ±)",n=new RegExp("([Ğ-Ğ¯ĞĞ°-ÑÑ‘]) "+t+'(?=[,;:?!"â€˜â€œÂ»])',"g"),t=new RegExp("([Ğ-Ğ¯ĞĞ°-ÑÑ‘])[ Â ]"+t+"[ Â ]","g");return e.replace(n,"$1Â $2").replace(t,"$1Â $2 ")}},{name:"ru/nbsp/centuries",handler:function(e){var t=c["common/dash"],n="(^|\\s)([VIX]+)",r='(?=[,;:?!"â€˜â€œÂ»]|$)',a=new RegExp(n+"[ Â ]?Ğ²\\.?"+r,"gm"),n=new RegExp(n+"("+t+")([VIX]+)[ Â ]?Ğ²\\.?([ Â ]?Ğ²\\.?)?"+r,"gm");return e.replace(a,"$1$2Â Ğ².").replace(n,"$1$2$3$4Â Ğ²Ğ².")}},{name:"ru/nbsp/dayMonth",handler:function(e){var t=new RegExp("(\\d{1,2}) ("+c["ru/shortMonth"]+")","gi");return e.replace(t,"$1Â $2")}},{name:"ru/nbsp/initials",handler:function(e){var t=new RegExp("(^|[(Â â€¯ "+c["ru/quote"].left+d+'"])([Ğ-Ğ¯Ğ])\\.[Â â€¯ ]?([Ğ-Ğ¯Ğ])\\.[Â â€¯ ]?([Ğ-Ğ¯Ğ][Ğ°-ÑÑ‘]+)',"gm");return e.replace(t,"$1$2.Â $3.Â $4")}},{name:"ru/nbsp/m",index:"+5",handler:function(e){var t=new RegExp("(^|[\\s,.\\(ï€€])(\\d+)[ Â ]?(Ğ¼Ğ¼?|ÑĞ¼|ĞºĞ¼|Ğ´Ğ¼|Ğ³Ğ¼|mm?|km|cm|dm)([23Â²Â³])?([\\s\\).!?,;ï€€]|$)","gm");return e.replace(t,function(e,t,n,r,a,i){return t+n+"Â "+r+ce[a||""]+("Â "===i?" ":i)})}},{name:"ru/nbsp/mln",handler:function(e){return e.replace(/(\d) ?(Ñ‚Ñ‹Ñ|Ğ¼Ğ»Ğ½|Ğ¼Ğ»Ñ€Ğ´|Ñ‚Ñ€Ğ»Ğ½)(\.|\s|$)/gi,"$1Â $2$3")}},{name:"ru/nbsp/ooo",handler:function(e){return e.replace(/(^|[^a-ÑÑ‘A-Ğ¯Ğ])(ĞĞĞ|ĞĞĞ|Ğ—ĞĞ|ĞĞ˜Ğ˜|ĞŸĞ‘ĞĞ®Ğ›) /g,"$1$2Â ")}},{name:"ru/nbsp/page",handler:function(e){var t=new RegExp("(^|[)\\sï€€])(ÑÑ‚Ñ€|Ğ³Ğ»|Ñ€Ğ¸Ñ|Ğ¸Ğ»Ğ»?|ÑÑ‚|Ğ¿|c)\\. *(\\d+)([\\s.,?!;:]|$)","gim");return e.replace(t,"$1$2.Â $3$4")}},{name:"ru/nbsp/ps",handler:function(e){var t=new RegExp("(^|\\s|".concat(d,")[pĞ·]\\.[ Â ]?([pĞ·]\\.[ Â ]?)?[sÑ‹]\\.:? "),"gim");return e.replace(t,function(e,t,n){return t+(n?"P.Â P.Â S. ":"P.Â S. ")})}},{name:"ru/nbsp/rubleKopek",handler:function(e){return e.replace(/(\d) ?(?=(Ñ€ÑƒĞ±|ĞºĞ¾Ğ¿)\.)/g,"$1Â ")}},{name:"ru/nbsp/see",handler:function(e){var t=new RegExp("(^|\\s|".concat(d,"|\\()(ÑĞ¼|Ğ¸Ğ¼)\\.[ Â ]?([Ğ°-ÑÑ‘0-9a-z]+)([\\s.,?!]|$)"),"gi");return e.replace(t,function(e,t,n,r,a){return("Â "===t?" ":t)+n+".Â "+r+a})}},{name:"ru/nbsp/year",handler:function(e){return e.replace(/(^|\D)(\d{4}) ?Ğ³([ ,;.\n]|$)/g,"$1$2Â Ğ³$3")}},{name:"ru/nbsp/years",index:"+5",handler:function(e){var t=new RegExp("(^|\\D)(\\d{4})("+c["common/dash"]+')(\\d{4})[ Â ]?Ğ³\\.?([ Â ]?Ğ³\\.)?(?=[,;:?!"â€˜â€œÂ»\\s]|$)',"gm");return e.replace(t,"$1$2$3$4Â Ğ³Ğ³.")}}]);function I(e,t){t=new RegExp('<span class="('+t.join("|")+')">([^]*?)</span>',"g");return e.replace(t,"$2")}function z(e,t){return e.replace(/<title>[^]*?<\/title>/i,function(e){return I(e,t)})}E.addRules([{name:"ru/number/comma",handler:function(e){return e.replace(/(^|\s)(\d+)\.(\d+[\u00A0\u2009\u202F ]*?[%â€°Â°Ã—x])/gim,"$1$2,$3")}},{name:"ru/number/ordinals",handler:function(e,t,n){n=n.getData("char"),n=new RegExp("(\\d[%â€°]?)-(Ñ‹Ğ¹|Ğ¾Ğ¹|Ğ°Ñ|Ğ¾Ğµ|Ñ‹Ğµ|Ñ‹Ğ¼|Ğ¾Ğ¼|Ñ‹Ñ…|Ğ¾Ğ³Ğ¾|Ğ¾Ğ¼Ñƒ|Ñ‹Ğ¼Ğ¸)(?!["+n+"])","g");return e.replace(n,function(e,t,n){return t+"-"+{"Ğ¾Ğ¹":"Ğ¹","Ñ‹Ğ¹":"Ğ¹","Ğ°Ñ":"Ñ","Ğ¾Ğµ":"Ğµ","Ñ‹Ğµ":"Ğµ","Ñ‹Ğ¼":"Ğ¼","Ğ¾Ğ¼":"Ğ¼","Ñ‹Ñ…":"Ñ…","Ğ¾Ğ³Ğ¾":"Ğ³Ğ¾","Ğ¾Ğ¼Ñƒ":"Ğ¼Ñƒ","Ñ‹Ğ¼Ğ¸":"Ğ¼Ğ¸"}[n]})}}]);var pe=["typograf-oa-lbracket","typograf-oa-n-lbracket","typograf-oa-sp-lbracket"],B="ru/optalign/bracket",ne={name:B,queue:"start",handler:function(e){return I(e,pe)},htmlAttrs:!1},k={name:B,queue:"end",handler:function(e){return z(e,pe)},htmlAttrs:!1},ge=["typograf-oa-comma","typograf-oa-comma-sp"],L="ru/optalign/comma",D={name:L,queue:"start",handler:function(e){return I(e,ge)},htmlAttrs:!1},S={name:L,queue:"end",handler:function(e){return z(e,ge)},htmlAttrs:!1},he=["typograf-oa-lquote","typograf-oa-n-lquote","typograf-oa-sp-lquote"],q="ru/optalign/quote",T={name:q,queue:"start",handler:function(e){return I(e,he)},htmlAttrs:!1},fe={name:q,queue:"end",handler:function(e){return z(e,he)},htmlAttrs:!1},C=(E.addRules([{name:B,handler:function(e){return e.replace(/( |\u00A0)\(/g,'<span class="typograf-oa-sp-lbracket">$1</span><span class="typograf-oa-lbracket">(</span>').replace(/^\(/gm,'<span class="typograf-oa-n-lbracket">(</span>')},disabled:!0,htmlAttrs:!1},{name:L,handler:function(e,t,n){n=n.getData("char"),n=new RegExp("(["+n+"\\dÌ]+), ","gi");return e.replace(n,'$1<span class="typograf-oa-comma">,</span><span class="typograf-oa-comma-sp"> </span>')},disabled:!0,htmlAttrs:!1},{name:q,handler:function(e){var t=this.getSetting("common/punctuation/quote","ru"),t="(["+t.left[0]+(t.left[1]||"")+"])",n=new RegExp("(^|\n\n|ï€€)("+t+")","g"),t=new RegExp("([^\nï€€])([ Â \n])("+t+")","gi");return e.replace(n,'$1<span class="typograf-oa-n-lquote">$2</span>').replace(t,'$1<span class="typograf-oa-sp-lquote">$2</span><span class="typograf-oa-lquote">$3</span>')},disabled:!0,htmlAttrs:!1}]),E.addInnerRules([ne,k,D,S,T,fe]),[]);function de(e){var t,n,r=e[0],a="";if(e.length<8)return me(e);if(10<e.length)if("+"===r){if("7"!==e[1])return e;t=!0,e=e.substr(2)}else"8"===r&&(n=!0,e=e.substr(1));for(var i=8;2<=i;i--){var o=+e.substr(0,i);if(-1<C.indexOf(o)){a=e.substr(0,i),e=e.substr(i);break}}return a||(a=e.substr(0,5),e=e.substr(5)),(t?"+7Â ":"")+(n?"8Â ":"")+(e=>{var t=+e,n=e.length,r=[e],a=!1;if(3<n)switch(n){case 4:r=[e.substr(0,2),e.substr(2,2)];break;case 5:r=[e.substr(0,3),e.substr(3,3)];break;case 6:r=[e.substr(0,2),e.substr(2,2),e.substr(4,2)]}else a=900<t&&t<=999||495==t||499==t||800==t;return n=r.join("-"),a?n:"("+n+")"})(a)+"Â "+me(e)}function me(e){var t="";return e.length%2&&(t=e[0],t+=e.length<=5?"-":"",e=e.substr(1,e.length-1)),t+e.split(/(?=(?:\d\d)+$)/).join("-")}function $e(e){return e.replace(/[^\d+]/g,"")}[4162,416332,8512,851111,4722,4725,391379,8442,4732,4152,4154451,4154459,4154455,41544513,8142,8332,8612,8622,3525,812,8342,8152,3812,4862,3422,342633,8112,9142,8452,3432,3434,3435,4812,8432,8439,3822,4872,3412,3511,3512,3022,4112,4852,4855,3852,3854,8182,818,90,3472,4741,4764,4832,4922,8172,8202,8722,4932,493,3952,3951,3953,411533,4842,3842,3843,8212,4942,"39131-39179","39190-39199",391,4712,4742,8362,495,499,4966,4964,4967,498,8312,8313,3832,383612,3532,8412,4232,423370,423630,8632,8642,8482,4242,8672,8652,4752,4822,482502,4826300,3452,8422,4212,3466,3462,8712,8352,800,"901-934","936-939","950-953",958,"960-969","977-989","991-997",999].forEach(function(e){if("string"==typeof e)for(var t=e.split("-"),n=+t[0];n<=+t[1];n++)C.push(n);else C.push(e)});E.addRules([{name:"ru/other/accent",handler:function(e){return e.replace(/([Ğ°-ÑÑ‘])([ĞĞ•ĞĞ˜ĞĞ£Ğ«Ğ­Ğ®Ğ¯])([^Ğ-Ğ¯Ğ\w]|$)/g,function(e,t,n,r){return t+n.toLowerCase()+"Ì"+r})},disabled:!0},{name:"ru/other/phone-number",live:!1,handler:function(e){var t=new RegExp("(^|,| |ï€€)(\\+7[\\d\\(\\) Â -]{10,18})(?=,|;|ï€€|$)","gm");return e.replace(t,function(e,t,n){n=$e(n);return 12===n.length?t+de(n):e}).replace(/(^|[^Ğ°-ÑÑ‘])([â˜â˜âœ†ğŸ“ ğŸ“ğŸ“±]|Ñ‚\.|Ñ‚ĞµĞ»\.|Ñ„\.|Ğ¼Ğ¾Ğ±\.|Ñ„Ğ°ĞºÑ|ÑĞ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹|Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹|Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½)(:?\s*?)([+\d(][\d \u00A0\-()]{3,}\d)/gi,function(e,t,n,r,a){a=$e(a);return 5<=a.length?t+n+r+de(a):e})}}]);var B={name:"ru/punctuation/ano",handler:function(e){var t=new RegExp("([^Â«â€[(!?,:;\\-â€’â€“â€”\\sï€€])(\\s+)(Ğ°|Ğ½Ğ¾)(?= |Â |\\n)","g");return e.replace(t,"$1,$2$3")}},be=(E.addRules([B,{name:"ru/punctuation/exclamation",handler:function(e){return e.replace(/(^|[^!])!{2}($|[^!])/gm,"$1!$2").replace(/(^|[^!])!{4}($|[^!])/gm,"$1!!!$2")},live:!1},{name:"ru/punctuation/exclamationQuestion",index:"+5",handler:function(e){var t=new RegExp("(^|[^!])!\\?([^?]|$)","g");return e.replace(t,"$1?!$2")}},{name:"ru/punctuation/hellipQuestion",handler:function(e){return e.replace(/(^|[^.])(\.\.\.|â€¦),/g,"$1â€¦").replace(/(!|\?)(\.\.\.|â€¦)(?=[^.]|$)/g,"$1..")}}]),E.addRules([{name:"ru/space/afterHellip",handler:function(e){return e.replace(/([Ğ°-ÑÑ‘])(\.\.\.|â€¦)([Ğ-Ğ¯Ğ])/g,"$1$2 $3").replace(/([?!]\.\.)([Ğ°-ÑÑ‘a-z])/gi,"$1 $2")}},{name:"ru/space/year",handler:function(e,t,n){n=n.getData("char"),n=new RegExp("(^| |Â )(\\d{3,4})(Ğ³Ğ¾Ğ´([Ğ°ÑƒĞµ]|Ğ¾Ğ¼)?)([^"+n+"]|$)","g");return e.replace(n,"$1$2 $3$5")}}]),E.addRules([{name:"ru/symbols/NN",handler:function(e){return e.replace(/â„–â„–/g,"â„–")}}]),{A:"Ğ",a:"Ğ°",B:"Ğ’",E:"Ğ•",e:"Ğµ",K:"Ğš",M:"Ğœ",H:"Ğ",O:"Ğ",o:"Ğ¾",P:"Ğ ",p:"Ñ€",C:"Ğ¡",c:"Ñ",T:"Ğ¢",y:"Ñƒ",X:"Ğ¥",x:"Ñ…"}),xe=Object.keys(be).join("");return E.addRules([{name:"ru/typo/switchingKeyboardLayout",handler:function(e){var t=new RegExp("(["+xe+"]{1,3})(?=[Ğ-Ğ¯ĞĞ°-ÑÑ‘]+?)","g");return e.replace(t,function(e,t){for(var n="",r=0;r<t.length;r++)n+=be[t[r]];return n})}}]),E});